<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Screenshots</title>
    <link rel="stylesheet" href="../public/css/reset.css">
    <link rel="stylesheet" href="./Screenshots2.css">
    <script>
        //control menu javascript
        window.onload = () => {
            const menuIcon = document.getElementsByClassName('menu-icon')[0];
            const leftMenu = document.getElementsByClassName('left-menu')[0];

            //click menuIcon open or close menu
            menuIcon.onclick = () => {
                if (menuIcon.classList.contains('active')) {
                    menuIcon.classList.remove('active');
                    leftMenu.classList.remove('active');
                } else {
                    menuIcon.classList.add('active');
                    leftMenu.classList.add('active');
                }
            };

            //click a tags to close menu
            const aTags = document.getElementsByTagName('a');
            for (var i = 0; i < aTags.length; i++) {
                aTags[i].onclick = function () {
                    menuIcon.classList.remove('active');
                    leftMenu.classList.remove('active');
                }
            }

            //listening click
            document.addEventListener('click', function (e) {
                //when menu opened
                if (menuIcon.classList.contains('active')) {
                    //click outside the menu,close menu
                    if (!leftMenu.contains(e.target)) {
                        menuIcon.classList.remove('active');
                        leftMenu.classList.remove('active');
                    }
                }
            });
        };

        //show position in navi-bar with highlight
        window.onscroll = () => {
            /*
            //method 1 : Content has 6 screen-shot items(id). [FIXEDLY]
            //get id positions
            // const a = document.querySelector("#main-encode").offsetTop -200;
            const b = document.querySelector("#mead-info").offsetTop -200;
            const c = document.querySelector("#add-job").offsetTop -200;
            const d = document.querySelector("#script-blockly").offsetTop -200;
            const e = document.querySelector("#script-mount").offsetTop -200;
            const f = document.querySelector("#script-preview").offsetTop -600;

             //get left-nav-item
            const navItems = document.getElementsByClassName("left-nav-item");
            // console.log(navItems.length);//12

            //get scroll position
            var scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
            // console.log(scrollPos);

            //compare scroll position with id positions
            // small navigation bar(width<768px), big navigation bar(width>768px)
            var navSmall, navBig;
            if (scrollPos < b) {
                navSmall = 0;
                navBig = 6;
            } else if (scrollPos > b && scrollPos <= c) {
                navSmall = 1;
                navBig = 7;
            } else if (scrollPos > c && scrollPos <= d) {
                navSmall = 2;
                navBig = 8;
            } else if (scrollPos > d && scrollPos <= e) {
                navSmall = 3;
                navBig = 9;
            } else if (scrollPos > e && scrollPos <= f) {
                navSmall = 4;
                navBig = 10;
            } else {
                navSmall = 5;
                navBig = 11;
            }

            //add or remove highlight
            for (let i = 0; i < navItems.length; i++) {
                navItems[i].classList.remove('highlight');
            }
            navItems[navSmall].classList.add('highlight');
            navItems[navBig].classList.add('highlight');
*/
            //method 2 : Content has several screen-shot items(id). [ADAPTIVELY]
            //get id positions
            const idItems = document.getElementsByClassName("screen-shot")[0].getElementsByTagName("h3");
            // console.log(idItems.length);

            //add positions to a array
            const posArr = Array(idItems.length);
            for (let i = 0; i < idItems.length; i++) {
                posArr[i] = idItems[i].offsetTop + 200;
            }
            // console.log(posArr);

            //get left-nav-item
            const navItems = document.getElementsByClassName("left-nav-item");
            // console.log(navItems.length);

            //get scroll position
            var scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
            // console.log(scrollPos);

            //compare scroll position with id positions
            var itemNum;
            for (let i = 0; i < posArr.length; i++) {
                if (scrollPos < posArr[i]) {
                    itemNum = i;
                    break;
                } else {
                    itemNum = posArr.length - 1;
                }
            }
            // console.log(itemNum);

            // small navigation bar(width<768px), big navigation bar(width>768px)
            var navSmall, navBig;
            navSmall = itemNum;
            navBig = itemNum + navItems.length / 2;
            // console.log(navSmall,navBig);

            // add or remove highlight
            for (let i = 0; i < navItems.length; i++) {
                navItems[i].classList.remove('highlight');
            }
            navItems[navSmall].classList.add('highlight');
            navItems[navBig].classList.add('highlight');
        };
    </script>
</head>
<body>
<!--outer container-->
<div class="top-bar-wrapper">
    <!--    top bar-->
    <div class="top-bar">
        <!--        left menu-->
        <div class="left-menu">
            <!--            menu icon-->
            <ul class="menu-icon">
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <!--            navigation bar-->
            <ul class="navbar">
                <li><a href="./Home2.html">HOME</a></li>
                <li class="tutorial-main">
                    <a href="./Screenshots2.html">Tutorial</a>
                    <div class="tutorial-more">
                        <a href="./Screenshots2.html">Screenshots</a>
                        <a href="./Videos.html">Videos</a>
                    </div>
                </li>
                <li><a href="./Download2.html">Download</a></li>
                <li><a href="./About.html">About egosub</a></li>
            </ul>
        </div>

        <!--        title-->
        <h1 class="title">
            <a href="./Home2.html">egosub</a>
        </h1>

        <!--   right menu -->
        <div class="right-menu"></div>
    </div>
</div>

<!--small-left-nav-->
<nav class="small-left-nav">
    <ul>
        <li class="left-nav-item"><a href="#main-encode"></a></li>
        <li class="left-nav-item"><a href="#mead-info"></a></li>
        <li class="left-nav-item"><a href="#add-job"></a></li>
        <li class="left-nav-item"><a href="#script-blockly"></a></li>
        <li class="left-nav-item"><a href="#script-mount"></a></li>
        <li class="left-nav-item"><a href="#script-preview"></a></li>
    </ul>
</nav>

<!--	left navigation		-->
<nav class="left-nav">
    <ul>
        <li class="left-nav-item"><a href="#main-encode">Main UI</a></li>
        <div class="line"></div>
    </ul>
    <ul>
        <li class="left-nav-item"><a href="#mead-info">Mediainfo UI</a></li>
        <div class="line"></div>
    </ul>
    <ul>
        <li class="left-nav-item"><a href="#add-job">Create Script from Add New Job</a></li>
        <div class="line"></div>
    </ul>
    <ul>
        <li class="left-nav-item"><a href="#script-blockly">Create Script from blockly UI</a></li>
        <div class="line"></div>
    </ul>
    <ul>
        <li class="left-nav-item"><a href="#script-mount">Script Mount UI</a></li>
        <div class="line"></div>
    </ul>
    <ul>
        <li class="left-nav-item"><a href="#script-preview">Script Preview UI</a></li>
    </ul>
</nav>

<!--content-->
<div class="content">
    <div class="header-img"><a href="./Home2.html"><img src="../public/img/qvs.png" alt="egosub"></a></div>
    <div class="screen-shot">
        <h2>Screenshots</h2>
        <div id="main-encode">
            <h3>Main UI</h3>
            <hr>
            <img src="../public/img/main-encode.jpg" alt="">
        </div>
        <div id="mead-info">
            <h3>Mediainfo UI</h3>
            <hr>
            <img src="../public/img/mediainfo.jpg" alt="">
        </div>
        <div id="add-job">
            <h3>Create Script from Add New Job</h3>
            <hr>
            <img src="../public/img/add-job.jpg" alt="">
        </div>
        <div id="script-blockly">
            <h3>Create Script from blockly UI</h3>
            <hr>
            <img src="../public/img/script-blockly.png" alt="">
        </div>
        <div id="script-mount">
            <h3>Script Mount UI</h3>
            <hr>
            <img src="../public/img/script-mount.jpg" alt="">
        </div>
        <div id="script-preview">
            <h3>Script Preview UI</h3>
            <hr>
            <img src="../public/img/script-preview.jpg" alt="">
        </div>
    </div>
</div>
</body>
</html>